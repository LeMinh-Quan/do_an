create database my_db;
use my_db;

create table users(
    maKH varchar(20) primary key,
    HoTen varchar(255),
    email varchar(255),
    pass varchar(10),
    SDT char(10),
    DiaChi varchar(255),
    VaiTro enum('admin','user') default 'user'
);
/*gio hang*/
create table Cart(
    MaCart char(20) primary key,
    userid varchar(20),
    ngaytao date
);

alter table Cart
add constraint fk_c_u foreign key (userid) references users(maKH);

create table SanPham(
    MaSP char(10) primary key,
    TenSP varchar(255),
    Loai varchar(20),
    ThuongHieu varchar(100),
    MoTa varchar(255),
    GiaBan decimal(10,0),
    SoLuong int check(SoLuong>0)
);

create table CT_cart(
    MaCart char(20),
    MaSP char(10),
    SoLuong int check(SoLuong>0),
    Gia decimal(10,0)
);

alter table CT_cart
add constraint fk_ct_c foreign key (MaCart) references Cart(MaCart),
add constraint fk_ct_sp foreign key (MaSP) references SanPham(MaSP);

create table DonHang(
    MaDH char(10) primary key,
    MaKH varchar(20),
    NgayDat date,
    TongTien decimal(10,0),
    TrangThai enum('huy','Cho xac nhan','Dang Giao','Da Giao') default 'Cho xac nhan'
);

alter table DonHang
add constraint fk_dh_kh foreign key (MaKH) references users(maKH);

create table CT_donhang(
    MaDH char(10),
    MaSP char(10),
    SoLuong int check(SoLuong>0),
    DonGia decimal(10,0),
    ThanhTien decimal(10,0)
);

alter table CT_donhang
add constraint fk_ct_hd foreign key (MaDH) references DonHang(MaDH),
add constraint fk_ctdh_sp foreign key (MaSP) references SanPham(MaSP);

create table ThanhToan(
    MaTT char(10) primary key,
    MaDH char(10),
    PhuongThuc ENUM('Chuyen khoan', 'Vi dien tu', 'The tin dung', 'Tien mat') DEFAULT 'Tien mat',
    Ngayvagio datetime,
    TrangThai enum('Chua Thanh Toan','Da Thanh Toan') default 'Chua Thanh Toan'
);

alter table ThanhToan
add constraint fk_tt_dh foreign key (MaDH) references DonHang(MaDH);

create table admin(
    TKadmin varchar(20) primary key,
    PASS varchar(255),
    tenadmin varchar(200),
    email varchar(255)
);
	CREATE TABLE BaoCao (
    MaBC CHAR(10) PRIMARY KEY,
    NgayBaoCao DATETIME DEFAULT CURRENT_TIMESTAMP,
    TongDon INT,
    TongDoanhThu DECIMAL(12,0),
    SanPhamBanChay VARCHAR(255),
    NguoiMuaNhieu VARCHAR(255),
    GhiChu VARCHAR(255)
);

alter table SanPham 
add constraint ck_gia check(GiaBan>0);

alter table CT_Cart 
add CONSTRAINT pk_ma PRIMARY key (MaCart,MaSP);

alter table CT_donhang
add constraint pk_cthd primary key(MaDH,MaSP);

alter table admin
add constraint u_ad UNIQUE (email);

create table MoTa(
 MaSP char(10) primary key,
 CPU varchar(100),
 RAM varchar(100),
 ROM varchar(100),
 GPU varchar(100),
 ManHinh varchar(100),
 HeDieuHanh varchar(100),
 MauSac VARCHAR(50),
    MoTa varchar(255)
);


alter table MoTa
add constraint fk_mt foreign key (MaSP) references SanPham(MaSP);


-- üîπ 1. ASUS
INSERT INTO SanPham VALUES
('AS01','ASUS TUF Gaming A15','Laptop','ASUS','Laptop gaming hi·ªáu nƒÉng cao',24990000,10),
('AS02','ASUS ROG Zephyrus G14','Laptop','ASUS','Thi·∫øt k·∫ø nh·ªè g·ªçn, m·∫°nh m·∫Ω',32990000,8),
('AS03','ASUS Vivobook 15','Laptop','ASUS','Ph√π h·ª£p sinh vi√™n, vƒÉn ph√≤ng',15990000,15),
('AS04','ASUS Zenbook OLED','Laptop','ASUS','M√†n OLED s·∫Øc n√©t',27990000,5),
('AS05','ASUS ExpertBook B5','Laptop','ASUS','Doanh nh√¢n cao c·∫•p',30990000,7);

INSERT INTO MoTa VALUES
('AS01','Ryzen 7 6800H','16GB','512GB SSD','RTX 3050Ti','15.6 inch FHD 144Hz','Windows 11','ƒêen','Laptop chi·∫øn game m∆∞·ª£t'),
('AS02','Ryzen 9 6900HS','16GB','1TB SSD','RTX 3060','14 inch QHD+','Windows 11','Tr·∫Øng','Hi·ªáu nƒÉng cao, g·ªçn nh·∫π'),
('AS03','Core i5-1240P','8GB','512GB SSD','Intel Iris Xe','15.6 inch FHD','Windows 11','B·∫°c','Ph√π h·ª£p h·ªçc t·∫≠p, vƒÉn ph√≤ng'),
('AS04','Core i7-12700H','16GB','1TB SSD','RTX 3050','14 inch OLED 2.8K','Windows 11','Xanh d∆∞∆°ng','M·ªèng nh·∫π, sang tr·ªçng'),
('AS05','Core i5-1240P','16GB','512GB SSD','Intel Iris Xe','13.3 inch FHD','Windows 11','X√°m','Si√™u nh·∫π, pin l√¢u');

-- üîπ 2. DELL
INSERT INTO SanPham VALUES
('DL01','Dell Inspiron 15','Laptop','DELL','M√°y h·ªçc t·∫≠p b·ªÅn b·ªâ',15990000,12),
('DL02','Dell XPS 13','Laptop','DELL','Thi·∫øt k·∫ø m·ªèng nh·∫π cao c·∫•p',33990000,6),
('DL03','Dell G15 Gaming','Laptop','DELL','Laptop gaming m·∫°nh m·∫Ω',27990000,9),
('DL04','Dell Vostro 14','Laptop','DELL','Doanh nghi·ªáp nh·ªè',17990000,11),
('DL05','Dell Latitude 7430','Laptop','DELL','D√≤ng doanh nh√¢n',31990000,4);

INSERT INTO MoTa VALUES
('DL01','Core i5-1235U','8GB','512GB SSD','Intel Iris Xe','15.6 inch FHD','Windows 11','B·∫°c','M√°y ·ªïn ƒë·ªãnh, gi√° h·ª£p l√Ω'),
('DL02','Core i7-1360P','16GB','512GB SSD','Intel Iris Xe','13.4 inch FHD+','Windows 11','B·∫°c','Cao c·∫•p, g·ªçn g√†ng'),
('DL03','Ryzen 7 7840HS','16GB','1TB SSD','RTX 4060','15.6 inch FHD 165Hz','Windows 11','ƒêen','Chi·∫øn game t·ªët'),
('DL04','Core i5-1240P','8GB','512GB SSD','Intel UHD','14 inch FHD','Windows 11','X√°m','B·ªÅn b·ªâ cho doanh nghi·ªáp nh·ªè'),
('DL05','Core i7-1270P','16GB','512GB SSD','Intel Iris Xe','14 inch FHD','Windows 11','ƒêen','M√°y doanh nh√¢n b·ªÅn ƒë·∫πp');

-- üîπ 3. ACER
INSERT INTO SanPham VALUES
('AC01','Acer Nitro 5','Laptop','ACER','Laptop gaming ph·ªï th√¥ng',22990000,10),
('AC02','Acer Aspire 7','Laptop','ACER','H·ªçc t·∫≠p v√† ch∆°i game nh·∫π',17990000,13),
('AC03','Acer Swift 3','Laptop','ACER','M·ªèng nh·∫π, pin tr√¢u',18990000,8),
('AC04','Acer Predator Helios 16','Laptop','ACER','Gaming cao c·∫•p',38990000,5),
('AC05','Acer Spin 5','Laptop','ACER','C·∫£m ·ª©ng xoay g·∫≠p',23990000,6);

INSERT INTO MoTa VALUES
('AC01','Core i5-12500H','16GB','512GB SSD','RTX 3050','15.6 inch FHD 144Hz','Windows 11','ƒêen','Hi·ªáu nƒÉng ·ªïn ƒë·ªãnh'),
('AC02','Ryzen 5 5625U','8GB','512GB SSD','GTX 1650','15.6 inch FHD','Windows 11','X√°m','Gi√° r·∫ª, ƒëa d·ª•ng'),
('AC03','Core i5-1240P','16GB','512GB SSD','Intel Iris Xe','14 inch FHD','Windows 11','B·∫°c','M·ªèng nh·∫π, pin t·ªët'),
('AC04','Core i9-13900HX','32GB','1TB SSD','RTX 4080','16 inch QHD+ 240Hz','Windows 11','ƒêen','Chi·∫øn m·ªçi game n·∫∑ng'),
('AC05','Core i7-1355U','16GB','512GB SSD','Intel Iris Xe','14 inch c·∫£m ·ª©ng','Windows 11','B·∫°c','G·∫≠p 360 ƒë·ªô, ƒëa nƒÉng');

-- üîπ 4. LENOVO
INSERT INTO SanPham VALUES
('LN01','Lenovo IdeaPad 3','Laptop','LENOVO','Laptop sinh vi√™n',13990000,20),
('LN02','Lenovo Legion 5','Laptop','LENOVO','Laptop gaming m·∫°nh',28990000,9),
('LN03','Lenovo Yoga 7','Laptop','LENOVO','2-in-1 cao c·∫•p',24990000,7),
('LN04','Lenovo ThinkPad E14','Laptop','LENOVO','Doanh nh√¢n b·ªÅn b·ªâ',25990000,6),
('LN05','Lenovo LOQ 15','Laptop','LENOVO','Gaming gi√° r·∫ª',23990000,8);

INSERT INTO MoTa VALUES
('LN01','Ryzen 5 5500U','8GB','512GB SSD','AMD Radeon','15.6 inch FHD','Windows 11','X√°m','Ph√π h·ª£p h·ªçc t·∫≠p'),
('LN02','Ryzen 7 6800H','16GB','1TB SSD','RTX 3060','15.6 inch FHD 165Hz','Windows 11','ƒêen','M√°y game m·∫°nh m·∫Ω'),
('LN03','Core i7-1360P','16GB','512GB SSD','Intel Iris Xe','14 inch c·∫£m ·ª©ng OLED','Windows 11','Xanh','C·∫£m ·ª©ng, sang tr·ªçng'),
('LN04','Core i5-1335U','16GB','512GB SSD','Intel Iris Xe','14 inch FHD','Windows 11','ƒêen','M√°y doanh nh√¢n b·ªÅn b·ªâ'),
('LN05','Core i5-12450H','8GB','512GB SSD','RTX 2050','15.6 inch FHD','Windows 11','Tr·∫Øng','Hi·ªáu nƒÉng t·ªët gi√° r·∫ª');

-- üîπ 5. HP
INSERT INTO SanPham VALUES
('HP01','HP Pavilion 14','Laptop','HP','Ph√π h·ª£p sinh vi√™n',17990000,14),
('HP02','HP Omen 16','Laptop','HP','Gaming m·∫°nh m·∫Ω',32990000,5),
('HP03','HP Victus 15','Laptop','HP','Laptop ch∆°i game gi√° t·ªët',22990000,10),
('HP04','HP Spectre x360','Laptop','HP','2-in-1 cao c·∫•p',35990000,4),
('HP05','HP Envy 13','Laptop','HP','Thi·∫øt k·∫ø th·ªùi trang',26990000,9);

INSERT INTO MoTa VALUES
('HP01','Core i5-1335U','8GB','512GB SSD','Intel Iris Xe','14 inch FHD','Windows 11','B·∫°c','G·ªçn nh·∫π, pin l√¢u'),
('HP02','Core i9-13900HX','32GB','1TB SSD','RTX 4070','16 inch QHD+ 165Hz','Windows 11','ƒêen','Chi·∫øn game m·∫°nh'),
('HP03','Ryzen 5 7535HS','16GB','512GB SSD','RTX 2050','15.6 inch FHD 144Hz','Windows 11','Xanh','Gaming nh·∫π'),
('HP04','Core i7-1360P','16GB','512GB SSD','Intel Iris Xe','13.5 inch OLED','Windows 11','V√†ng','G·∫≠p xoay cao c·∫•p'),
('HP05','Core i5-1240P','8GB','512GB SSD','Intel Iris Xe','13.3 inch FHD','Windows 11','B·∫°c','Th·ªùi trang, nh·∫π nh√†ng');

-- üîπ 6. MSI
INSERT INTO SanPham VALUES
('MS01','MSI GF63 Thin','Laptop','MSI','Laptop gaming m·ªèng nh·∫π',22990000,11),
('MS02','MSI Katana 15','Laptop','MSI','Gaming t·∫ßm trung',25990000,9),
('MS03','MSI Stealth 14','Laptop','MSI','Cao c·∫•p, m·ªèng nh·∫π',36990000,6),
('MS04','MSI Creator Z16','Laptop','MSI','D√†nh cho designer',41990000,4),
('MS05','MSI Modern 14','Laptop','MSI','VƒÉn ph√≤ng nh·ªè g·ªçn',15990000,12);

INSERT INTO MoTa VALUES
('MS01','Core i5-12450H','16GB','512GB SSD','RTX 2050','15.6 inch FHD 144Hz','Windows 11','ƒêen','M·ªèng nh·∫π, hi·ªáu nƒÉng t·ªët'),
('MS02','Core i7-12650H','16GB','512GB SSD','RTX 4060','15.6 inch FHD 144Hz','Windows 11','ƒê·ªè','Gaming m·∫°nh'),
('MS03','Core i9-13900H','32GB','1TB SSD','RTX 4070','14 inch QHD+','Windows 11','B·∫°c','Nh·∫π, c·ª±c m·∫°nh'),
('MS04','Core i7-13700H','32GB','1TB SSD','RTX 4070','16 inch QHD+','Windows 11','X√°m','Thi·∫øt k·∫ø, ƒë·ªì h·ªça'),
('MS05','Core i5-1335U','8GB','512GB SSD','Intel Iris Xe','14 inch FHD','Windows 11','B·∫°c','G·ªçn nh·∫π, pin t·ªët');

-- üîπ 7. APPLE
INSERT INTO SanPham VALUES
('AP01','MacBook Air M1','Laptop','APPLE','Hi·ªáu nƒÉng ·ªïn, pin l√¢u',24990000,8),
('AP02','MacBook Pro M2','Laptop','APPLE','Hi·ªáu nƒÉng cao',35990000,5),
('AP03','MacBook Air M2','Laptop','APPLE','Thi·∫øt k·∫ø m·ªõi, m·ªèng nh·∫π',29990000,10),
('AP04','MacBook Pro M3','Laptop','APPLE','C·∫•u h√¨nh c·ª±c m·∫°nh',44990000,3),
('AP05','MacBook Pro 16 M3 Max','Laptop','APPLE','Cao c·∫•p nh·∫•t',69990000,2);

INSERT INTO MoTa VALUES
('AP01','Apple M1','8GB','256GB SSD','GPU 7 nh√¢n','13.3 inch Retina','macOS Sonoma','B·∫°c','·ªîn ƒë·ªãnh, ti·∫øt ki·ªám pin'),
('AP02','Apple M2','16GB','512GB SSD','GPU 10 nh√¢n','13 inch Retina','macOS Sonoma','X√°m','M·∫°nh m·∫Ω, sang tr·ªçng'),
('AP03','Apple M2','8GB','512GB SSD','GPU 8 nh√¢n','13.6 inch Retina','macOS Sonoma','V√†ng','Thi·∫øt k·∫ø m·ªèng nh·∫π'),
('AP04','Apple M3','16GB','1TB SSD','GPU 10 nh√¢n','14 inch Liquid Retina','macOS Sequoia','X√°m','M·∫°nh m·∫Ω, chuy√™n nghi·ªáp'),
('AP05','Apple M3 Max','32GB','1TB SSD','GPU 40 nh√¢n','16 inch Liquid Retina XDR','macOS Sequoia','B·∫°c','ƒê·ªânh cao hi·ªáu nƒÉng');
